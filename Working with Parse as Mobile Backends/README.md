



### Creating Your App on Parse
click the Build new app button to create a new application. Simply use "Working with Parse as Mobile Backends" as the app name and click Create.
<img width="1440" alt="Снимок экрана 2022-07-20 в 13 23 25" src="https://user-images.githubusercontent.com/107209053/179959657-70e39205-a1c1-499d-a02e-cff7f350dc27.png">

Now click the Create a class button on the side menu to create a new class. Set the name to Trip and type to Custom , and then click Create class to proceed. Once created, you should see the class under the Browser section of the sidebar menu.
<img width="1440" alt="Снимок экрана 2022-07-20 в 13 47 23" src="https://user-images.githubusercontent.com/107209053/179964073-e234a1e4-f6f1-455a-b945-5ec3c85d6eb7.png">

Now let's add some trip data into the data browser.
Click the Add a Row button to create a new row. Each row represents a single Trip object. You only need to upload the image of a trip and fill in the city, country, price, totalDays and isLiked columns. For the objectId, createdAt and updatedAt columns, the values will be generated by Parse.
```swift
private var trips = [
  Trip(tripId: "Paris001", city: "Paris", country: "France", featuredImage: UIImage(named: "paris"), price: 2000, totalDays: 5, isLiked: false),
  Trip(tripId: "Rome001", city: "Rome", country: "Italy", featuredImage: UIImage(named: "rome"), price: 800, totalDays: 3, isLiked: false),
  Trip(tripId: "Istanbul001", city: "Istanbul", country: "Turkey", featuredImage: UIImage(named: "istanbul"), price: 2200, totalDays: 10, isLiked:false),
  // ... etc
    ]
```
To put the first item of the array into Parse, fill in the values of the row like this:
<img width="1440" alt="Снимок экрана 2022-07-20 в 13 55 48" src="https://user-images.githubusercontent.com/107209053/179965664-438e6497-9983-4e25-b00c-36dffe7a3f30.png">
<img width="1440" alt="Снимок экрана 2022-07-20 в 14 01 41" src="https://user-images.githubusercontent.com/107209053/179966681-f7960504-a46a-41a4-bdcd-8a6beda31d2b.png">

### Configuring the Xcode Project for Parse
 The very first thing to do is to install the Parse SDK. You can either install it using CocoaPods.
 #### Using CocoaPods
 Assuming you have CocoaPods [installed](https://stackoverflow.com/questions/64901180/how-to-run-cocoapods-on-apple-silicon-m1) on your Mac, open Terminal app and change to your TripCard project folder. Type pod init to create the Podfile and edit it like this:
 ```swift
...
# Comment the next line if you're not using Swift and don't want to use dynamic
frameworks
  use_frameworks!
  # Pods for ...
  pod 'Parse'
end
 ```
 CocoaPods should automatically download the Parse SDK and all the required libraries.
 
 ### Connecting with Parse
 To access your app data on Parse, you first need to find out the Application Key and the Client Key. In the dashboard, choose Security & Keys under App Settings.
 Here you can reveal the application ID and client key. Remember to keep these keys safe, as one can access your Parse data with them.
 
 <img width="299" alt="Снимок экрана 2022-07-20 в 14 15 14" src="https://user-images.githubusercontent.com/107209053/179968895-8f52d4ce-0856-444c-ba22-52907ba24c42.png">
 <img width="495" alt="Снимок экрана 2022-07-20 в 14 20 12" src="https://user-images.githubusercontent.com/107209053/179969682-8ec97d74-857a-4ca1-a834-423301134475.png">

Select AppDelegate.swift. Insert an import statement at the very beginning to import the Parse framework:
```swift import Parse```
Next, add the following code in the application(_:didFinishLaunchingWithOptions:) method to initialize Parse:
```swift
// Initialize Parse.
let configuration = ParseClientConfiguration {
$0.applicationId = "YOUR Application ID" 
$0.clientKey = "YOUR Client Key" 
$0.server = "https://parseapi.back4app.com"
}
Parse.initialize(with: configuration)
```
Try to compile and run it. If you get everything correct, you should be able to run the app without any error.

### Retrieving Data from Parse
The Parse SDK provides a class called PFQuery for retrieving a list of objects ( PFObjects )
from Parse. The general usage is like this:
```swift
let query = PFQuery(className: "Trip")
query.findObjectsInBackground { (objects, error) in
if let error = error {
print("Error: \(error) \(error.localizedDescription)") return
}
    if let objects = objects {
        // Do something
    } 
}
```
You create a PFQuery object with a specific class name that matches the one created on Parse. For example, for the TripCard app, the class name is Trip . By calling the
findObjectsInBackground method of the query object, the app will go up to Parse and retrieve the available Trip objects. The method works in an asynchronous manner. When it finishes, the block of code will be called and you can perform additional processing based on the returned results.

First, open the TripViewController.swift file and change the declaration of trips array to this:
```swift private var trips = [Trip]() ```
If you look into the Trip structure (i.e. Trip.swift ), you may notice that the featuredImage property is of the type UIImage . As we have defined the featuredImage
column as a File type on Parse, we have to change the type of the featuredImage property accordingly. This will allow us to convert a PFObject to a Trip object easily.
```swift
import UIKit
import Parse
struct Trip: Hashable {
    var tripId: String = ""
    var city: String = ""
    var country: String = ""
    var featuredImage: PFFileObject?
    var price: Int = 0
    var totalDays: Int = 0
    var isLiked: Bool = false
    
    
    init(tripId: String, city: String, country: String, featuredImage: PFFileObject!, price: Int, totalDays: Int, isLiked: Bool) {
        self.tripId = tripId
        self.city = city
        self.country = country
        self.featuredImage = featuredImage
        self.price = price
        self.totalDays = totalDays
        self.isLiked = isLiked
    }
    init(pfObject: PFObject) {
        self.tripId = pfObject.objectId!
        self.city = pfObject["city"] as! String
        self.country = pfObject["country"] as! String
        self.price = pfObject["price"] as! Int
        self.totalDays = pfObject["totalDays"] as! Int
        self.featuredImage = pfObject["featuredImage"] as? PFFileObject
        self.isLiked = pfObject["isLiked"] as! Bool
    }
    func toPFObject() -> PFObject {
        let tripObject = PFObject(className: "Trip")
        tripObject.objectId = tripId
        tripObject["city"] = city
        tripObject["country"] = country
        tripObject["featuredImage"] = featuredImage
        tripObject["price"] = price
        tripObject["totalDays"] = totalDays
        tripObject["isLiked"] = isLiked
        return tripObject
    }
    
}
```
Here we added another initialization method for PFObject and a helper method called toPFObject . In the method, we change the type of featuredImage from UIImage to PFFile . For the purpose of convenience, we create a new initialization method for PFObject and another method for PFObject conversion.

Next, open the TripViewController.swift file and insert the following import statement:
```swift import Parse ```
